<ion-header mode="ios">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>报销单填写</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="showModal()" size="small">上传进度</ion-button>
      <ion-back-button text="返回" color="white" mode="md"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- 基本信息卡片视图区 start -->
  <ion-card mode="ios">
    <ion-item class="card-header">
      <ion-card-title color="primary" class="card-title">基本信息</ion-card-title>
    </ion-item>
    <ion-card-content>
      <ion-grid>
        <ion-row class="title">
          <ion-col align-self-center [size]="3">
            报销人 :
          </ion-col>
          <ion-col align-self-center [size]="2">
          </ion-col>
          <ion-col align-self-center [size]="7">
            {{originObj.reimbursement_name}}
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col align-self-center [size]="3">
            出差日期 <span class="star">*</span> :
          </ion-col>
          <ion-col align-self-center [size]="2">
          </ion-col>
          <ion-col align-self-center [size]="7" class="dateCol">
            <!-- 开始日期-->
            <div class="date-btn">
              <span>{{originObj.travel_start_time}}</span>
            </div>

            <!-- 链接线 -->
            <div class="line"></div>
            <!-- 结束日期 -->
            <div class="date-btn">
              <span>{{originObj.travel_end_time}}</span>
            </div>
          </ion-col>
        </ion-row>

        <ion-row class="title">
          <ion-col align-self-center [size]="3">
            出差事由 <span class="star">*</span> :
          </ion-col>
          <ion-col align-self-center [size]="2">
          </ion-col>
          <ion-col align-self-center [size]="7">
            <span>{{originObj.travel_reason=='1'?'验货':'监装'}}</span>
          </ion-col>
        </ion-row>


        <ion-row class="title">
          <ion-col align-self-center [size]="3">
            流水号及工厂名 <span class="star">*</span> :
          </ion-col>
          <ion-col align-self-center [size]="2">
          </ion-col>
          <ion-col align-self-center [size]="7">
            <!-- <div *ngIf="originObj.factory_name_and_serial.length!=0"> -->
            <div *ngFor="let item of originObj.factory_name_and_serial">{{item}}</div>
            <!-- </div> -->

            <!-- <span *ngIf="originObj.factory_name_and_serial.length!==0">暂无</span> -->
          </ion-col>
        </ion-row>

        <ion-row class="title">
          <ion-col align-self-center [size]="3">
            差旅费类型 <span class="star">*</span> :
          </ion-col>
          <ion-col align-self-center [size]="2">
          </ion-col>
          <ion-col align-self-center [size]="7">
            <span>{{originObj.travel_type=='1'?'普通':'自驾'}}</span>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>

  <!-- 以下内容条件渲染 -->
  <div class="normal" *ngIf="originObj.travel_type=='1'">
    <!-- 交通费 -->
    <ion-card mode="ios" *ngFor="let item of originObj.traffic_expense_list;let i=index">
      <ion-item class="card-header">
        <div class="card-header-item">
          <ion-card-title color="primary" class="card-title">交通费({{i+1}})</ion-card-title>
        </div>

      </ion-item>
      <ion-card-content>
        <ion-grid>
          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              交通工具 :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <div *ngIf="item.vehicle">
                <span *ngIf="item.vehicle=='1'">飞机</span>
                <span *ngIf="item.vehicle=='2'">高铁</span>
                <span *ngIf="item.vehicle=='3'">动车</span>
                <span *ngIf="item.vehicle=='4'">大巴</span>
              </div>
              <div *ngIf="!item.vehicle">
                <span>暂无</span>
              </div>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col align-self-center [size]="3">
              出发地点 :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <span *ngIf="item.departure_place">{{item.departure_place}}</span>
              <span *ngIf="!item.departure_place">暂无</span>
            </ion-col>
          </ion-row>

          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              出发时间 ：
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <div class="date-box">
                <span>{{item.departure_time?item.departure_time:'暂无'}}</span>
              </div>
            </ion-col>
          </ion-row>

          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              到达时间 ：
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <span>{{item.arrival_time?item.arrival_time:'暂无'}}</span>
            </ion-col>
          </ion-row>

          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              单据张数 :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <span>{{item.bill_num?item.bill_num:'暂无'}}</span>
            </ion-col>
          </ion-row>


          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              金额(元) :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <span>{{item.cost?item.cost:'暂无'}}</span>
            </ion-col>
          </ion-row>


          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              单据照片 :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <app-photo-evection [photo]="item.hash_arr" [isDisabled]="true"></app-photo-evection>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card-content>
    </ion-card>

    <!-- 住宿费 -->
    <ion-card mode="ios">
      <ion-item class="card-header">
        <div class="card-header-item">
          <ion-card-title color="primary" class="card-title">住宿费</ion-card-title>
        </div>
      </ion-item>
      <ion-card-content>
        <ion-grid>
          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              单据张数 :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <span>{{originObj.stay_bill_num?originObj.stay_bill_num:'暂无'}}</span>
            </ion-col>
          </ion-row>

          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              发票抬头 :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <!-- <span>stay_invoice_title</span> -->
              <span>{{originObj.stay_invoice_title?originObj.stay_invoice_title:'暂无'}}</span>
            </ion-col>
          </ion-row>

          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              金额(元) :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <!-- <span>stay_cost</span> -->
              <span>{{originObj.stay_cost?originObj.stay_cost:'暂无'}}</span>
            </ion-col>
          </ion-row>

          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              单据照片 :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <app-photo-evection [photo]="originObj.stay_bill_pic" [isDisabled]="true"></app-photo-evection>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card-content>
    </ion-card>

    <!-- 市内车费 -->
    <ion-card mode="ios">
      <ion-item class="card-header">
        <div class="card-header-item">
          <ion-card-title color="primary" class="card-title">市内车费</ion-card-title>
        </div>
      </ion-item>
      <ion-card-content>
        <ion-grid>
          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              单据张数 :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <span>{{originObj.city_bill_num?originObj.city_bill_num:'暂无'}}</span>
            </ion-col>
          </ion-row>

          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              类型选择 :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <div *ngIf="originObj.city_cost_type">
                <span *ngIf="originObj.city_cost_type=='1'">公交费</span>
                <span *ngIf="originObj.city_cost_type=='2'">打车费</span>
                <span *ngIf="originObj.city_cost_type=='3'">其他</span>
              </div>
              <div *ngIf="!originObj.city_cost_type">
                <span>暂无</span>
              </div>
            </ion-col>
          </ion-row>

          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              金额(元) :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <span>{{originObj.city_cost?originObj.city_cost:'暂无'}}</span>
            </ion-col>
          </ion-row>

          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              单据照片 :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <app-photo-evection [photo]="originObj.city_bill_pic" [isDisabled]="true"></app-photo-evection>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card-content>
    </ion-card>

    <!-- 出差补贴车费 -->
    <ion-card mode="ios">
      <ion-item class="card-header">
        <div class="card-header-item">
          <ion-card-title color="primary" class="card-title">出差补贴</ion-card-title>
        </div>
      </ion-item>
      <ion-card-content>
        <ion-grid>
          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              天数 :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <span>{{originObj.travel_day_num?originObj.travel_day_num:'暂无'}}</span>
            </ion-col>
          </ion-row>
          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              金额(元) :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <span>{{originObj.travel_subsidy_cost?originObj.travel_subsidy_cost:'暂无'}}</span>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card-content>
    </ion-card>



    <!-- 出差补贴车费 -->
    <ion-card mode="ios">
      <div class="all_money">
        <div class="label">报销总额</div>
        <p class="money">{{originObj.travel_sum_cost?originObj.travel_sum_cost+'.00 元':'暂无'}}</p>
      </div>
    </ion-card>
  </div>

  <div class="self-driving" *ngIf="originObj.travel_type=='2'">
    <!-- 油费 -->
    <ion-card mode="ios" *ngFor="let item of originObj.fuel_charge_list;let i=index">
      <ion-item class="card-header">
        <div class="card-header-item">
          <ion-card-title color="primary" class="card-title">油费({{i+1}})</ion-card-title>
        </div>

      </ion-item>
      <ion-card-content>
        <ion-grid>
          <ion-row>
            <ion-col align-self-center [size]="3">
              出发地点 :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <span>{{item.departure_place?item.departure_place:'暂无'}}</span>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col align-self-center [size]="3">
              到达地点 :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <span>{{item.arrival_place?item.arrival_place:'暂无'}}</span>
            </ion-col>
          </ion-row>

          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              出发时间 ：
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <span>{{item.departure_time?item.departure_time:'暂无'}}</span>
            </ion-col>
          </ion-row>

          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              到达时间 ：
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <span>{{item.arrival_time?item.arrival_time:'暂无'}}</span>
            </ion-col>
          </ion-row>

          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              公里数(理论) :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <span>{{item.theory_miles?item.theory_miles:'暂无'}}</span>
            </ion-col>
          </ion-row>


          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              公里数(实际) :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <span>{{item.actual_miles?item.actual_miles:'暂无'}}</span>
            </ion-col>
          </ion-row>

          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              金额(元) :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <span>{{item.cost?item.cost:'暂无'}}</span>
            </ion-col>
          </ion-row>

          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              导航截图 :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <app-photo-evection [photo]="item.hash_arr" [isDisabled]="true"></app-photo-evection>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card-content>
    </ion-card>

    <!-- 过路费 -->
    <ion-card mode="ios">
      <ion-item class="card-header">
        <div class="card-header-item">
          <ion-card-title color="primary" class="card-title">过路费</ion-card-title>
        </div>
      </ion-item>
      <ion-card-content>
        <ion-grid>
          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              单据张数 :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <span>{{originObj.road_toll_bill_num?originObj.road_toll_bill_num:'暂无'}}</span>
            </ion-col>
          </ion-row>

          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              金额(元) :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <span>{{originObj.road_toll_cost?originObj.road_toll_cost:'暂无'}}</span>
            </ion-col>
          </ion-row>

          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              单据照片 :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <app-photo-evection [photo]="originObj.road_toll_bill_pic" [isDisabled]="true"></app-photo-evection>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card-content>
    </ion-card>

    <!-- 停车费-->
    <ion-card mode="ios">
      <ion-item class="card-header">
        <div class="card-header-item">
          <ion-card-title color="primary" class="card-title">停车费</ion-card-title>
        </div>
      </ion-item>
      <ion-card-content>
        <ion-grid>
          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              单据张数 :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <span>{{originObj.parking_bill_num?originObj.parking_bill_num:'暂无'}}</span>
            </ion-col>
          </ion-row>

          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              金额(元) :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <span>{{originObj.parking_cost?originObj.parking_cost:'暂无'}}</span>
            </ion-col>
          </ion-row>

          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              单据照片 :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <app-photo-evection [photo]="originObj.packing_bill_pic" [isDisabled]="true"></app-photo-evection>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card-content>
    </ion-card>

    <!-- 住宿费 -->
    <ion-card mode="ios">
      <ion-item class="card-header">
        <div class="card-header-item">
          <ion-card-title color="primary" class="card-title">住宿费</ion-card-title>
        </div>
      </ion-item>
      <ion-card-content>
        <ion-grid>
          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              单据张数 :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <span>{{originObj.stay_bill_num?originObj.stay_bill_num:'暂无'}}</span>
            </ion-col>
          </ion-row>

          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              发票抬头 :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <span>{{originObj.stay_invoice_title?originObj.stay_invoice_title:'暂无'}}</span>
            </ion-col>
          </ion-row>

          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              金额(元) :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <span>{{originObj.stay_cost?originObj.stay_cost:'暂无'}}</span>
            </ion-col>
          </ion-row>

          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              单据照片 :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <app-photo-evection [photo]="originObj.stay_bill_pic" [isDisabled]="true"></app-photo-evection>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card-content>
    </ion-card>

    <!-- 出差补贴 -->
    <ion-card mode="ios">
      <ion-item class="card-header">
        <div class="card-header-item">
          <ion-card-title color="primary" class="card-title">出差补贴</ion-card-title>
        </div>
      </ion-item>
      <ion-card-content>
        <ion-grid>
          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              天数 :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <span>{{originObj.travel_day_num?originObj.travel_day_num:'暂无'}}</span>
            </ion-col>
          </ion-row>
          <ion-row class="title">
            <ion-col align-self-center [size]="3">
              金额(元) :
            </ion-col>
            <ion-col align-self-center [size]="2">
            </ion-col>
            <ion-col align-self-center [size]="7">
              <span>{{originObj.travel_subsidy_cost?originObj.travel_subsidy_cost:'暂无'}}</span>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card-content>
    </ion-card>

    <!-- 总额 -->
    <ion-card mode="ios">
      <div class="all_money">
        <div class="label">报销总额</div>
        <p class="money">{{originObj.travel_sum_cost?originObj.travel_sum_cost+'.00 元':'暂无'}}</p>
      </div>
    </ion-card>
  </div>

</ion-content>