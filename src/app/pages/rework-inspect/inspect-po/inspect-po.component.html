<ion-header mode="ios">
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>{{ list && list.length && $any(list[0]).factory_name }}</ion-title>
        <ion-buttons slot="end">
            <ion-back-button text="返回" color="white" mode="md"></ion-back-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-card *ngFor="let item of list" mode="ios">
        <ion-item class="card-header">
            <ion-icon name="people" slot="start" color="primary"></ion-icon>
            <ion-label><span>合同号:</span> {{ item.contract_no }}</ion-label>
        </ion-item>

        <ion-card-content>
            <ion-grid>
                <ion-row class="title">
                    <ion-col align-self-center [size]="3">
                        SKU
                    </ion-col>
                    <ion-col align-self-center [size]="3">
                        中文名
                    </ion-col>
                    <ion-col align-self-center [size]="2">
                        合同箱数
                    </ion-col>
                    <ion-col align-self-center [size]="3">
                        操作
                    </ion-col>
                </ion-row>

                <ion-row *ngFor="let sItem of item.data">
                    <ion-col align-self-center [size]="3">
                        {{ sItem.sku }}
                    </ion-col>
                    <ion-col align-self-center [size]="3">
                        {{ sItem.sku_chinese_name }}
                    </ion-col>

                    <ion-col align-self-center [size]="2">
                        {{ sItem.quantity }}
                    </ion-col>
                    <ion-col align-self-center [size]="4" class="ion-col-no-pad">
                        <div>
                            <ion-button
                                size="small"
                                fill="clear"
                                class="f-l"
                                color="primary"
                                (click)="feedback(item, sItem)"
                                >问题描述
                            </ion-button>
                            <ion-button
                                fill="clear"
                                size="small"
                                class="f-l"
                                [routerLink]="[
                                    '/rework-inspect/rework-sku',
                                    apply_inspect_no,
                                    item.contract_no,
                                    sItem.sku
                                ]"
                                >去验货
                            </ion-button>
                        </div>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </ion-card-content>
    </ion-card>
</ion-content>
